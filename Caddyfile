# Caddyfile for Meghdoot Research
# This file should be copied to /etc/caddy/Caddyfile on the server
# Using ifs.shauryaa.dev subdomain

ifs.shauryaa.dev {
    # Proxy API requests to Python backend
    handle /api/* {
        reverse_proxy localhost:8000 {
            header_up Host {host}
        }
    }

    # Proxy health check to backend
    handle /health {
        reverse_proxy localhost:8000
    }

    # All other requests go to Node.js frontend (SSR)
    handle {
        reverse_proxy localhost:3000 {
            header_up Host {host}
        }
    }
}

